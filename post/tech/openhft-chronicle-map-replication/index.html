<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>OpenHFT/Chronicle-Map Replication</title><meta name=description content><meta name=generator content="Hugo 0.49"><meta property=og:title content="OpenHFT/Chronicle-Map Replication"><meta property=og:description content="Preparation   OpenHFT/Chronicle-Map
     Key points   Enterprise Edition feature
  It&#8217;s TCP/IP Replication
  TCP/IP Throttling - only broadcasts the latest update of each entry
     How Chronicle Map Replication works  Refer to an instance of a remote map as a node. Each node can be connected to up to 128 other nodes.
  each remote map mirrors its changes over to another remote map."><meta property=og:type content=article><meta property=og:url content=https://yimin.io/post/tech/openhft-chronicle-map-replication/><meta property=article:published_time content=2018-10-11T16:35:47&#43;08:00><meta property=article:modified_time content=2018-10-12T19:53:01&#43;08:00><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/assets/css/style.css><script type=text/javascript src=/js/scripts.js></script><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><nav class=menu><ul class=menu__list><li class=menu__item><a class=menu__link href=/>Home</a></li><li class=menu__item><a class=menu__link href=/me/>Mee</a></li><li class=menu__item><a class=menu__link href=/post/>Posts</a></li><li class=menu__item><a class=menu__link href=/wikipedia/>Wikipedia</a></li></ul></nav></header><div class="wrapper flex"><section class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>OpenHFT/Chronicle-Map Replication</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 16 16"><path d="m8-3e-7c-4.4.0-8 3.6-8 8C0 12.4 3.6 16 8 16c4.4.0 8-3.6 8-8.0000003.0-4.4-3.6-8-8-8zM8 14.4c-3.52.0-6.4-2.88-6.4-6.4000003.0-3.52 2.88-6.4 6.4-6.4 3.52.0 6.4 2.88 6.4 6.4C14.4 11.52 11.52 14.4 8 14.4zm.4-10.4000003H7.2v4.8l4.16 2.5600003.64-1.04-3.6-2.1600003z"/></svg><time class=meta__text datetime=2018-10-11T16:35:47>October 11, 2018</time>
<time class=meta__text datetime=2018-10-12T19:53:01>(Last Modified: October 12, 2018)</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/tech rel=category>tech</a></span></div></div></header><div class="content post__content clearfix"><div class=sect1><h2 id=_preparation>Preparation</h2><div class=sectionbody><div class=ulist><ul><li><p><a href=/post/tech/openhft-chronicle-map/>OpenHFT/Chronicle-Map</a></p></li></ul></div></div></div><div class=sect1><h2 id=_key_points>Key points</h2><div class=sectionbody><div class=ulist><ul><li><p>Enterprise Edition feature</p></li><li><p>It&#8217;s TCP/IP Replication</p></li><li><p><strong>TCP/IP Throttling</strong> - only broadcasts the latest update of each entry</p></li></ul></div></div></div><div class=sect1><h2 id=_how_chronicle_map_replication_works>How Chronicle Map Replication works</h2><div class=sectionbody><div class="olist arabic"><ol class=arabic><li><p>Refer to an instance of a remote map as a node. Each node <code class=red>can be connected to up to 128 other nodes.</code></p></li><li><p>each remote map mirrors its changes over to another remote map.</p></li><li><p>Neither map is considered to be the master store of data.</p></li><li><p>Each map <code class=red>uses timestamps to reconcile changes</code>, When the timestamps are the same, the remote node with the smaller identifier will be preferred.</p></li></ol></div></div></div><div class=sect1><h2 id=_multiple_processes_on_the_same_server_with_replication>Multiple Processes on the same server with Replication</h2><div class=sectionbody><div class=ulist><ul><li><p><strong>exchange data via shared memory</strong> - rather than by TCP or UDP replication.</p></li><li><p><strong>Only one instance is set up TCP or UDP replicated</strong> - if the TCP replicated Chronicle Map instance received an update from a remote node, then this update would be immediately available to all the instances of Chronicle Map on the server</p></li></ul></div></div></div><div class=sect1><h2 id=_identifier_for_replication>Identifier for Replication</h2><div class=sectionbody><div class=ulist><ul><li><p><strong>must have their identifiers set</strong> - if you wish to replicate data between two or more server. otherwise all of the Chronicle Map instances not actively participating in TCP or UDP replication.</p></li><li><p><strong>identifier must be unique to each server</strong> -</p><div class=ulist><ul><li><p>Each ChronicleMap on the same server must have the same identifier.</p></li><li><p>Chronicle Map replication ignores updates which have originated from itself.</p></li></ul></div></li></ul></div></div></div><div class=sect1><h2 id=_replication_event_logging>Replication event logging</h2><div class=sectionbody><div class=ulist><ul><li><p>can be configured to log all replication events to a Chronicle Queue for auditing purposes.</p></li><li><p>Currently, a map can be configured to log all outgoing events that it sends to remote peers.</p></li></ul></div></div></div></div><div class="post__tags tags clearfix"><svg class="icon icon-tag" width="16" height="16" viewBox="0 0 16 16"><path d="M16 9.5c0 .373-.24.74-.5 1l-5 5c-.275.26-.634.5-1 .5-.373.0-.74-.24-1-.5L1 8a2.853 2.853.0 0 1-.7-1C.113 6.55.0 5.973.0 5.6V1.4C0 1.034.134.669.401.401.67.134 1.034.0 1.4.0h4.2c.373.0.95.113 1.4.3.45.187.732.432 1 .7l7.5 7.502c.26.274.5.632.5.998zM3.5 5a1.5 1.5.0 1 0 0-3 1.5 1.5.0 0 0 0 3z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/tech/ rel=tag>tech</a></li><li class=tags__item><a class="tags__link btn" href=/tags/java/ rel=tag>java</a></li></ul></div></article></main><div class="authorbox clearfix"><figure class=authorbox__avatar><img alt="yimin avatar" src=/favicon.ico class=avatar height=90 width=90></figure><div class=authorbox__header><span class=authorbox__name>About yimin</span></div><div class=authorbox__description>Ordinary steps can also take a great trip.</div></div><nav class="post-nav flex"><div class="post-nav__item post-nav__item--prev"><a class=post-nav__link href=/post/tech/openhft-chronicle-map/ rel=prev><span class=post-nav__caption>«&thinsp;Previous</span><p class=post-nav__post-title>OpenHFT/Chronicle-Map</p></a></div><div class="post-nav__item post-nav__item--next"><a class=post-nav__link href=/post/tech/openhft-chronicle-map-data-store-specification/ rel=next><span class=post-nav__caption>Next&thinsp;»</span><p class=post-nav__post-title>Openhft Chronicle Map Data Store Specification</p></a></div></nav></section></div><footer class=footer><div class=container><div class=footer__copyright>&copy; 2018 &amp;copy;2018 Yimin. <span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/gardenias/ rel="nofollow noopener" target=_blank>Gardenias</a> theme.</span></div></div></footer></div><script>var navigation=responsiveNav(".menu",{navClass:"menu--collapse",label:"Menu",});</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script></body></html>